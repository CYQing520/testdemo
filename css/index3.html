<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="detector">
        <span class="client"></span>
        <span class="signal"></span>
        <span class="server"></span>
    </div>
    <p>When you is offline, you can see the red theme;
        <br> and when you come back online, you can see the green theme.</p>
</body>
<script>
    const ONLINE_THEME = {
        statusColor: 'green',
        secondSignalDelay: '0.2s',
        thirdSignalDelay: '0.4s'
    }

    const OFFLINE_THEME = {
        statusColor: 'orangered',
        secondSignalDelay: '0s',
        thirdSignalDelay: '0s'
    }

    function detectOnlineStatus() {
        let theme = navigator.onLine ? ONLINE_THEME : OFFLINE_THEME
        let root = document.documentElement
        root.style.setProperty('--status-color', theme.statusColor)
        root.style.setProperty('--second-signal-delay', theme.secondSignalDelay)
        root.style.setProperty('--third-signal-delay', theme.thirdSignalDelay)
    }

    window.addEventListener('online', detectOnlineStatus)
    window.addEventListener('offline', detectOnlineStatus)
    detectOnlineStatus()
</script>

</html>